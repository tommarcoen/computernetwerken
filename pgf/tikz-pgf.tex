% TikZ/PGF
\usepackage{tikz}
\usetikzlibrary{backgrounds}
\usetikzlibrary{calc}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{fit}
\usetikzlibrary{matrix}
\usetikzlibrary{patterns}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{arrows}

%%
%% Styles
%%

% Network nodes
\tikzset{network node image/.style={
                inner sep=0mm,
                %anchor=south west
                }}
\tikzset{network node/.style={
                network node image,
                thick,
                text=mdtmedtronicblue,
                draw=mdtmedtronicblue,
                fill=white,
                minimum size=10mm}}
\tikzset{network node circle/.style={
                network node,
                circle}}
\tikzset{network node square/.style={
                network node,
                rectangle,
                rounded corners}}
\tikzset{network node rectangle/.style={
                network node,
                rectangle,
                minimum height=15mm,
                rounded corners}}
\tikzset{server rack/.style={
                align=left,
                text width=8mm,
                inner sep=0pt,
                anchor=north west,
                minimum height=7.5mm-.8pt,
                minimum width=10.7mm-.8pt,
                thick,
                text=mdtmedtronicblue,
                draw=mdtmedtronicblue,
                fill=white}}
\tikzset{network rack/.style={
                align=left,
                text width=9.3mm,
                inner sep=0pt,
                anchor=north west,
                minimum height=7.5mm-.8pt,
                minimum width=12mm-.8pt,
                %minimum height=7.5mm,
                %minimum width=12mm,
                thick,
                text=mdtmedtronicblue,
                draw=mdtmedtronicblue,
                fill=white}}
\tikzset{patch rack/.style={
                align=left,
                text width=9.3mm,
                inner sep=0pt,
                anchor=north west,
                minimum height=7.5mm-.8pt,
                minimum width=12mm-.8pt,
                thick,
                text=mdtmedtronicblue,
                draw=mdtmedtronicblue,
                fill=white}}

% Labels
\tikzset{interface label/.style={
                font=\footnotesize,
                inner sep=2pt},
                fill=white}
\tikzset{node label/.style={
                font=\small,
                align=center,
                inner sep=2pt,
                thick,
                rounded corners}}


% Floor tiles
\newcommand{\dcfloortiles}[2]{%
    \draw[step=6mm,gray,very thin] (0,0) grid ($.6*(#1,#2)$);
}
\newcommand{\dccoldaisle}[2]{%
    \draw[pattern=north west lines, pattern color=mdtlightgray] ($.6*(#1)-(.6,.6)$) rectangle ($.6*(#1)+.6*(#2)-(.6,.6)$);
}
% Markings for different types of racks
\newcommand{\caserack}[1]{%
    \draw[very thick,mdtorange] ($(#1.north east)-(.1,.1)$) -- ($(#1.south east)+(-.1,.1)$);
}
\newcommand{\storagerack}[1]{%
    \draw[very thick,mdtgreen] ($(#1.north east)-(.2,.1)$) -- ($(#1.south east)+(-.2,.1)$);
}
\newcommand{\networkrack}[1]{%
    \draw[very thick,mdtmediumblue] ($(#1.north east)-(.15,.1)$) -- ($(#1.south east)+(-.15,.1)$);
}
\newcommand{\mitgrack}[1]{%
    \draw[very thick,mdtpurple] ($(#1.north east)-(.25,.1)$) -- ($(#1.south east)+(-.25,.1)$);
}
\newcommand{\unixrack}[1]{%
    \draw[very thick,mdtdarkgray] ($(#1.north east)-(.3,.1)$) -- ($(#1.south east)+(-.3,.1)$);
}
\newcommand{\computerack}[1]{%
    \draw[very thick,mdtturquoise] ($(#1.north east)-(.35,.1)$) -- ($(#1.south east)+(-.35,.1)$);
}
\newcommand{\racklabels}[1]{%
    \matrix (racklabels) at (#1) [matrix of nodes,
        nodes={
            anchor=west,
            align=left
            }
        ] {
            |[mdtorange]| CASE \\
            |[mdtturquoise]| Compute (CORE) \\
            |[mdtpurple]| MITG \\
            |[mdtmediumblue]| Network \\
            |[mdtgreen]| Storage \\
            |[mdtdarkgray]| UNIX \\
    };
}