\section{IP-adressen}

Een IP-adres is een 32-bit getal en heeft dus een waarde tussen 0 en \num{4294967296}.
Dit is echt geen handige manier om met IP-adressen om te gaan dus noteren we deze getallen op een andere manier.
We verdelen de 32~bits in vier groepjes van 8~bits,%
   \footnote{%
      Een groep van 8~bits wordt ook wel een \emph{octet} genoemd of een \emph{byte}.
      Deze laatste term is echter niet helemaal correct want een byte kan ook meer of minder bits bevatten dan acht.
      Dit is afhankelijk van de computerarchitectuur.
      Voor een x86-computer bevat een byte inderdaad acht bits, maar voor bijvoorbeeld de iconische PDP-7\footnotemark\ 
      bevat een byte achttien bits.
   }%
   \footnotetext{De PDP-7 is iconisch omdat het de computer is waar Unics op ontwikkeld werd.}
vertalen deze vier groepjs van binair naar decimaal en plaatsen een punt tussen deze groepjes.

\begin{verbatim}
1010 1100   0001 1000   0000 1100   1110 0001 = 2.887.257.313

1010 1100 . 0001 1000 . 0000 1100 . 1110 0001

   172    .     24    .     12    .    225
\end{verbatim}

Het Internet Protocol (IP) wordt gebruikt voor communicatie tussen computers die zich op verschillende netwerken bevinden.
Een IP-adres bestaat dan ook uit twee delen: een netwerkgedeelte dat voor elk netwerk uniek is, en een hostgedeelte dat binnen een netwerk uniek is voor elk toestel.
Dit kan je vergelijken met een gewoon adres.
Deze bevat een gemeente, straatnaam en huisnummer.
Binnen een gemeente moet elke straatnaam uniek zijn en binnen de straat moet elk huisnummer uniek zijn.

Als we naar bovenstaand IP-adres kijken, is het echter niet duidelijk welk deel het netwerk aanduidt en welk deel de host binnen dat netwerk uniek identificeert.
Daar hebben we extra informatie voor nodig in de vorm van een \emph{prefix length} of een \emph{subnet mask}.
Dat was echter niet altijd het geval.

In 1980 geloofde men nog niet dat er veel computernetwerken zouden zijn en hanteerde men de eenvoudige regel dat het eerste octet aangeeft tot welk netwerk het IP-adres behoort, en de laatste drie octets bepalen de computer binnen het netwerk.
De computers met IP-adres 10.0.7.23 en 10.12.4.18 behoren dus tot hetzelfde netwerk omdat voor beide het eerste octet dezelfde waarde heeft~(10).
De computers met IP-adres 10.0.7.23 en 23.9.102.123 behoren echter \emph{niet} tot hetzelfde netwerk omdat het eerste octet verschillend is.

Met kwam er al snel achter dat 256%
   \footnote{De netwerken 0 en 255 werden niet gebruikt omdat de IP-adressen 0.0.0.0 en 255.255.255.255 een specialie betekenis hebben dus het maximum was eigenljk maar 254 netwerken.}
netwerken toch te weinig is dus al in 1981 werd deze regel aangepast en werden er drie \emph{klasses} gedefiniëerd.
De IP-adressen die beginnen met 0 t.e.m.~127 behoorden tot klasse \emph{a} en hiervoor geldt de reeds bestaande regel: het netwerk wordt gekenmerkt door het eerste octet.

Voor de IP-adressen die beginnen met 128--191 geldt een nieuwe regel.
Hier bepalen de eerste twee octetten het netwerkgedeelte en de laatste twee worden gebruikt om elke computer binnen het netwerk uniek te identificeren.
De IP-adressen 131.12.237.182 en 131.12.1.4 behoren dus tot hetzelfde netwerk maar 131.93.12.3 behoort tot een ander netwerk.

De derde klasse, klasse \emph{c}, bevat de IP-adressen die beginnen met 192--223.
Voor deze klasse geldt dat de eerste drie octetten het netwerk aanduiden en enkel het laatste octet gebruikt wordt om een computer binnen het netwerk aan te duiden.

Dit resulteert in drie soorten netwerken met elk enorme verschillen qua grootte.
Netwerken uit klasse a hebben voldoende IP-adressen voor meer dan 16 miljoen computers in één netwerk.
Netwerken uit klasse b kunnen meer dan \num{65000} computers huisvesten en netwerken uit klasse c ``slechts'' 256 computers.%
   \footnote{In feite kunnen er maar 254 computers in zo een netwerk geplaatst worden omdat er altijd twee IP-adressen gereserveerd zijn als \emph{netwerkadres} en \emph{broadcastadres}.}

In 1993 werd \emph{subnetting} ingevoerd als manier om deze grote netwerken onder te verdelen in kleinere netwerken zodat er minder verspilling is van IP-adressen.
Sinds 1995 werd dit subnetting veralgemeend en werden de klasses afschaft.
Nu kan er voor elk netwerk de juiste grootte bepaald worden.


\begin{frame}{Netwerken}
\begin{center}
\includegraphics<presentation>[width=.65\textwidth]{images/client-server-2.png}
\includegraphics<article>[width=.65\textwidth]{images/client-server-2.png}
\end{center}
\begin{itemize}
   \item De client en server maken deel uit van een netwerk
   \item Netwerken worden met elkaar verbonden via routers
\end{itemize}
\end{frame}

\mode<article>{
Als we de situatie uit de inleiding in meer detail bekijken, merken we dat zowel de client als de server deel uitmaken van een netwerk en dat deze netwerken met elkaar verbonden worden met behulp van \emph{routers}.
De werking van routers bestuderen we in een later hoofdstuk.
In dit hoofdstuk focussen we op de IP-adressen.
}



\begin{frame}{Netwerkadressen}
\begin{itemize}
\item<1-> Elke computer heeft een IP-adres
    \begin{itemize}
    \item<2-> Mogelijk meerdere IP-adressen
    \end{itemize}
\item<3-> Een IP-adres bestaat uit twee delen:
    \begin{enumerate}
    \item Netwerkdeel
    \item Hostdeel        
    \end{enumerate}
\item<5-> Elk netwerk heeft een eigen, uniek, netwerkdeel
\end{itemize}
\uncover<4>{
   \begin{exampleblock}{Voorbeeld: 192.0.2.1/24}
   \begin{itemize}
   \item Netwerkdeel: 192.0.2
   \item Hostdeel: 1
   \end{itemize}
   \end{exampleblock}
 }
\end{frame}



\begin{frame}{Netwerkadressen: een voorbeeld}
   \begin{center}
      \includegraphics<presentation>[width=.65\textwidth]{images/client-server-3.png}
      \includegraphics<article>[width=.65\textwidth]{images/client-server-3.png}
      \end{center}
\end{frame}



\begin{frame}{IP-adressen}
\begin{itemize}
\item<1->Een IP-adres bestaat uit 32 bits
\item<2->De computer ziet het adres als één getal van 0 tot \num{4294967295}
\item<3->Mensen vinden de \emph{dotted decimal} notatie duidelijker
\item<5->Vier blokjes (\emph{octet}) van 8 bits, gescheiden door een punt
\item<6->Elk octet is een getal van 0 tot 255
\end{itemize}
\uncover<4>{
   \begin{exampleblock}{Voorbeeld}
      \begin{itemize}
      \item 192.0.2.1
      \item 224.0.0.2
      \item 198.15.67.32
      \end{itemize}
      \end{exampleblock}
}
\end{frame}



\begin{frame}{Subnetmasker en prefix-length}
\begin{itemize}
\item<1-> De grootte van het netwerkgedeelte wordt bepaald door de prefix-length
\item<2-> Vanaf links te tellen bepaalt deze het netwerkgedeelte
\item<3-> Deze kan je omzetten naar een subnetmasker
\item<4-> Subnetmaskers zijn de oude manier van noteren
\item<5-> $32-p$ bits vanaf rechts bepalen het hostgedeelte
\end{itemize}
\end{frame}



\begin{frame}{Subnetmaskers}
\begin{exampleblock}{Voorbeelden}
\begin{itemize}
\item<1-> 192.168.23.7/25 \hfill 255.255.255.128 \hspace*{.3\textwidth}\null
\item<2-> 203.0.113.154/26 \hfill 255.255.255.192 \hspace*{.3\textwidth}\null
\item<3-> 172.17.3.22/12 \hfill 255.255.240.0 \hspace*{.3\textwidth}\null
\end{itemize}
\end{exampleblock}
\end{frame}



\begin{frame}{Speciale adressen}
\begin{itemize}
\item Het eerste en laatste adres in een netwerk zijn gereserveerd
\item Het eerste adres is het \alert{netwerkadres}
\item Het laatste adres is het \alert{broadcastadres}
\end{itemize}
\end{frame}


\subsection{Hiërarchische adressen}

\begin{frame}
\end{frame}

\subsection{Variabele groottes van subnetten}

\begin{frame}
\end{frame}



\input{chapters/ip-adressen-dhcp}
\input{chapters/ip-adressen-nat}
\input{chapters/ip-adressen-ipv6}